#!/bin/bash

# Checks if the parameter was provided on the command line
if [ -z "$1" ]; then
    echo "Please provide the URL as a parameter."
    exit 1
fi

# Makes HTTP request using curl and saves the output to a temp file
curl_output=$(curl -s "$1")
temp_file=$(mktemp)
echo "$curl_output" > "$temp_file"

# Extract relevant information from HTML content using awk
awk -F '[<>"]+' '/<a href="\/cve\// {cve_id=$3}
                /data-type="CVSS"/ {cvss_score=$5}
                /data-type="MODIFIED"/ {modified_date=$5}
                /data-type="PUBLISHED"/ {published_date=$5}
                END {print "CVE ID: "cve_id;
                     print "CVSS Score: " cvss_score;
                     print "Last update (important): " modified_date;
                     print "Published: " published_date;
                     print "";
                }' "$temp_file"

# Remove temporary file
rm "$temp_file"